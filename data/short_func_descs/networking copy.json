{
  "group": "networking",
  "tests": [
    {
      "name": "accept_all_new_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "accept_all_new_connections",
          "args": [],
          "store_result": "connections_accepted"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connections_accepted"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "accept_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "accept_new_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "connection_accepted"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_accepted"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "broadcast_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "client1"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection1"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "client2"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection2"
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection1"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "broadcast_message_to_all",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message_to_all",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "broadcast_message_to_server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message_to_server_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "check_network_activity",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_new_connections",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "clear_messages_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "clear_messages_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "clear_messages_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "close_all_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "close_all_servers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server_1"
        },
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_2"
            },
            {
              "value_type": "primitive",
              "value": 5001
            }
          ],
          "store_result": "test_server_2"
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_1"
            }
          ],
          "store_result": "server_1_exists"
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_2"
            }
          ],
          "store_result": "server_2_exists"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_1_exists"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_2_exists"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_servers",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_1"
            }
          ],
          "store_result": "server_1_closed"
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server_2"
            }
          ],
          "store_result": "server_2_closed"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_1_closed"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_2_closed"
            }
          }
        }
      ]
    },
    {
      "name": "close_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "is_connection_open",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "is_open"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "is_open"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        }
      ]
    },
    {
      "name": "close_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "is_connection_open",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_is_open"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_is_open"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "is_connection_open",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_is_open"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_is_open"
            }
          }
        }
      ]
    },
    {
      "name": "close_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [],
          "store_result": "test_message"
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "close_server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "close_server_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "server_exists"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_exists"
            }
          }
        }
      ]
    },
    {
      "name": "close_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "server_exists"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_exists"
            }
          }
        }
      ]
    },
    {
      "name": "connection_count_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "connection_count_named",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_ip",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "connection_ip",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2130706433
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_ip_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "connection_ip_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "connection_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "connection_port",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_port"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5000
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_port"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "connection_port_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "connection_port_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "test_port"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5000
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_port"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "create_server_with_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "create_server_with_port_and_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port_and_protocol",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "TCP"
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "has_server",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "server_exists"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "server_exists"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "dec_to_hex",
      "steps": [
        {
          "step_type": "function",
          "function_name": "dec_to_hex",
          "args": [
            {
              "value_type": "primitive",
              "value": 2130706433
            }
          ],
          "store_result": "test_hex_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "0x7F000001"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_hex_result"
            }
          }
        }
      ]
    },
    {
      "name": "fetch_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "fetch_new_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "new_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "new_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "new_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "has_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "has_messages",
      "steps": [
        {
          "step_type": "function",
          "function_name": "has_messages",
          "args": [],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_message"
            },
            {
              "value_type": "function",
              "function_name": "open_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                },
                {
                  "value_type": "primitive",
                  "value": "127.0.0.1"
                },
                {
                  "value_type": "primitive",
                  "value": 5000
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "has_messages",
          "args": [],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        }
      ]
    },
    {
      "name": "has_messages_on_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "has_messages_on_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "has_messages_on_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "has_new_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_new_connections",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "has_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "hex_str_to_ipv4",
      "steps": [
        {
          "step_type": "function",
          "function_name": "hex_str_to_ipv4",
          "args": [
            {
              "value_type": "primitive",
              "value": "0x7F000001"
            }
          ],
          "store_result": "test_ipv4"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "hex_str_to_ipv4",
          "args": [
            {
              "value_type": "primitive",
              "value": "7F000001"
            }
          ],
          "store_result": "test_ipv4_no_prefix"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4_no_prefix"
            }
          }
        }
      ]
    },
    {
      "name": "hex_to_dec_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "hex_to_dec_string",
          "args": [
            {
              "value_type": "primitive",
              "value": "7F"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "hex_to_dec_string",
          "args": [
            {
              "value_type": "primitive",
              "value": "0x7F"
            }
          ],
          "store_result": "test_result_with_prefix"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result_with_prefix"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_dec",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_dec",
          "args": [
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2130706433
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "ipv4_to_dec",
          "args": [
            {
              "value_type": "primitive",
              "value": "192.168.1.1"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 3232235777
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_hex",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_hex",
          "args": [
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            }
          ],
          "store_result": "test_ipv4_hex"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "0x7F000001"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4_hex"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_str",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_str",
          "args": [
            {
              "value_type": "primitive",
              "value": 2130706433
            }
          ],
          "store_result": "test_ip_str"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip_str"
            }
          }
        }
      ]
    },
    {
      "name": "is_connection_open",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_connection_open_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "last_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "last_connection_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "last_conn"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "last_conn"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "last_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "last_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "last_conn"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5000
            },
            "value2": {
              "value_type": "function",
              "function_name": "connection_port",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "last_conn"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_count_on_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "function",
              "function_name": "open_connection",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                },
                {
                  "value_type": "primitive",
                  "value": "127.0.0.1"
                },
                {
                  "value_type": "primitive",
                  "value": 5000
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "process_events",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_count_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_count_on_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "process_events",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "function",
              "function_name": "message_count_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": {
              "value_type": "primitive",
              "value": 0
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "message_count_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_count_from_name",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_data",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_data_bytes",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Hello, World!"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "function",
          "function_name": "message_data_bytes",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ],
          "store_result": "test_message_bytes"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Hello, World!"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_host",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_host",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5000
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_port",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "message_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "UDP"
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "UDP"
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "UDP"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_protocol",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "my_ip",
      "steps": [
        {
          "step_type": "function",
          "function_name": "my_ip",
          "args": [],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        }
      ]
    },
    {
      "name": "name_for_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "name_for_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "localhost"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection_name"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "localhost:8080"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_connection_name"
            }
          }
        }
      ]
    },
    {
      "name": "new_connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": {
              "value_type": "primitive",
              "value": 0
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "open_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "is_connection_open",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "connection_status1"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_status1"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "is_connection_open",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "connection_status2"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_status2"
            }
          }
        }
      ]
    },
    {
      "name": "open_connection_with_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection_with_protocol",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "TCP"
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_data_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_data_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "test_message_data"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_message_data"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_data_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "process_events",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_data_from_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_message_data"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_message_data"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_data_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_data_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message_data"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_message_data"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "reconnect",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "reconnect",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "reconnect_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "reconnect_from_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_connection"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        }
      ]
    },
    {
      "name": "release_all_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "has_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "connection_exists"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_exists"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "release_all_connections",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "has_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "connection_exists_after_release"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_exists_after_release"
            }
          }
        }
      ]
    },
    {
      "name": "reset_new_connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": {
              "value_type": "primitive",
              "value": 0
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "reset_new_connection_count",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "retrieve_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "retrieve_connection_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "retrieve_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "retrieve_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_message_to_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "send_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "send_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_message_to_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_name",
          "args": [
            {
              "value_type": "primitive",
              "value": "Hello, Server!"
            },
            {
              "value_type": "primitive",
              "value": "test_connection"
            }
          ],
          "store_result": "send_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "send_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "server_has_new_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "server_has_new_connection_named",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        }
      ]
    },
    {
      "name": "server_has_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_connection"
            },
            {
              "value_type": "primitive",
              "value": "127.0.0.1"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "server_has_new_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        }
      ]
    },
    {
      "name": "server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            },
            {
              "value_type": "primitive",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "server_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_server"
            }
          ],
          "store_result": "retrieved_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "retrieved_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "set_udp_packet_size",
      "steps": [
        {
          "step_type": "function",
          "function_name": "set_udp_packet_size",
          "args": [
            {
              "value_type": "primitive",
              "value": 1024
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1024
            },
            "value2": {
              "value_type": "function",
              "function_name": "udp_packet_size",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "udp_packet_size",
      "steps": [
        {
          "step_type": "function",
          "function_name": "udp_packet_size",
          "args": [],
          "store_result": "test_packet_size"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_packet_size"
            },
            "value2": {
              "value_type": "primitive",
              "value": 0
            }
          }
        }
      ]
    },
    {
      "name": "download_bitmap",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "download_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_image"
            },
            {
              "value_type": "primitive",
              "value": "http://example.com/test_image.png"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "draw_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 0
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "refresh_screen",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "pixel_drawn_at_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_bitmap"
                },
                {
                  "value_type": "primitive",
                  "value": 50
                },
                {
                  "value_type": "primitive",
                  "value": 50
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "download_font",
      "steps": [
        {
          "step_type": "function",
          "function_name": "download_font",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_font"
            },
            {
              "value_type": "primitive",
              "value": "http://example.com/font.ttf"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_font"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_font"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_font",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_font"
            }
          ]
        }
      ]
    },
    {
      "name": "download_music",
      "steps": [
        {
          "step_type": "function",
          "function_name": "download_music",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_music"
            },
            {
              "value_type": "primitive",
              "value": "http://example.com/music.mp3"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_music"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_music"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_music",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_music"
            }
          ]
        }
      ]
    },
    {
      "name": "download_sound_effect",
      "steps": [
        {
          "step_type": "function",
          "function_name": "download_sound_effect",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sound"
            },
            {
              "value_type": "primitive",
              "value": "http://example.com/test_sound.wav"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_sound_effect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sound_effect"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sound_effect",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sound_effect"
            }
          ]
        }
      ]
    },
    {
      "name": "free_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://example.com"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "null",
            "value1": {
              "value_type": "function",
              "function_name": "http_response_to_string",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_response"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "http_get",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://example.com"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "test_response_text"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "primitive",
              "value": ""
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_response_text"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_post_with_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_post",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://httpbin.org/post"
            },
            {
              "value_type": "primitive",
              "value": 80
            },
            {
              "value_type": "primitive",
              "value": "Test Body"
            },
            {
              "value_type": "primitive",
              "value": [
                "Content-Type: application/json",
                "Accept: application/json"
              ]
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "test_response_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response_string"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "string_contains"
            },
            "value3": {
              "value_type": "primitive",
              "value": "Test Body"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_post",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_post",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://example.com"
            },
            {
              "value_type": "primitive",
              "value": 80
            },
            {
              "value_type": "primitive",
              "value": "test=123"
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "test_response_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "primitive",
              "value": ""
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_response_string"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_response_to_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://example.com"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "test_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "primitive",
              "value": ""
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_string"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "save_response_to_file",
      "steps": [
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "primitive",
              "value": "http://example.com"
            },
            {
              "value_type": "primitive",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "save_response_to_file",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            {
              "value_type": "primitive",
              "value": "test_output.txt"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_output.txt"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "file_exists"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "delete_file",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_output.txt"
            }
          ]
        }
      ]
    },
    {
      "name": "has_incoming_requests",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "has_incoming_requests",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "has_requests"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "has_requests"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_delete_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_delete_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "primitive",
                  "value": "/test_path"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_get_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_get_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "primitive",
                  "value": "/test"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_options_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_uri",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_uri"
        },
        {
          "step_type": "function",
          "function_name": "is_options_request_for",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "variable",
              "variable_name": "test_uri"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_post_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "is_post_request_for",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "/test_path"
            }
          ],
          "store_result": "is_post"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "is_post"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_put_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_uri",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_uri"
        },
        {
          "step_type": "function",
          "function_name": "is_put_request_for",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "variable",
              "variable_name": "test_uri"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "primitive",
                  "value": "/test"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_trace_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_trace_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "primitive",
                  "value": "/trace"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "next_web_request",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "has_incoming_requests",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "has_requests"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable",
              "variable_name": "has_requests"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_body",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_body",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_body"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_body"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_has_query_parameter",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_query_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_query_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "request_has_query_parameter",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "primitive",
                  "value": "param1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "request_has_query_parameter",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "primitive",
                  "value": "nonexistent_param"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_headers",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_headers"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_headers"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_method",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "request_method",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_method"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "http_method",
              "value": "http_get_method"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_method"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_query_parameter",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_query_parameter",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "test_param"
            },
            {
              "value_type": "primitive",
              "value": "default_value"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "default_value"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_query_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_query_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_query_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_query_string"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_uri",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "request_uri",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_uri"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "primitive",
              "value": ""
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_uri"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_uri_stubs",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_uri",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_uri"
        },
        {
          "step_type": "function",
          "function_name": "request_uri_stubs",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_stubs"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_stubs"
            },
            "value2": {
              "value_type": "function",
              "function_name": "split_uri_stubs",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_uri"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_css_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_css_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "test.css"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "testfile.txt"
            },
            {
              "value_type": "primitive",
              "value": "text/plain"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_html_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_html_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "test.html"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "primitive",
                  "value": "/test.html"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_javascript_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_javascript_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "test_script.js"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_empty",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "primitive",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_json_with_status",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_with_status",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "primitive",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status_and_content_type",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "primitive",
              "value": "text/plain"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status_and_content_type_and_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_with_status_and_content_type_and_headers",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "primitive",
              "value": "Test Message"
            },
            {
              "value_type": "primitive",
              "value": "text/plain"
            },
            {
              "value_type": "primitive",
              "value": [
                "Header1: Value1",
                "Header2: Value2"
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_json",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "create_json",
          "args": [],
          "store_result": "test_json"
        },
        {
          "step_type": "function",
          "function_name": "json_set_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_json"
            },
            {
              "value_type": "primitive",
              "value": "message"
            },
            {
              "value_type": "primitive",
              "value": "Hello, World!"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "send_response_json",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "variable",
              "variable_name": "test_json"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "split_uri_stubs",
      "steps": [
        {
          "step_type": "function",
          "function_name": "split_uri_stubs",
          "args": [
            {
              "value_type": "primitive",
              "value": "/names/0"
            }
          ],
          "store_result": "test_stubs"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": [
                "names",
                "0"
              ]
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_stubs"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "split_uri_stubs",
          "args": [
            {
              "value_type": "primitive",
              "value": "/"
            }
          ],
          "store_result": "test_stubs_empty"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": []
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_stubs_empty"
            }
          }
        }
      ]
    },
    {
      "name": "start_web_server_with_default_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server_with_default_port",
          "args": [],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "start_web_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "stop_web_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "primitive",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    }
  ]
}