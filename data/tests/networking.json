{
  "group": "networking",
  "cleanup": [
    {
      "cleanup_type": "window",
      "function_name": "close_all_windows",
      "args": []
    },
    {
      "cleanup_type": "server",
      "function_name": "close_all_servers",
      "args": []
    },
    {
      "cleanup_type": "connection",
      "function_name": "close_all_connections",
      "args": []
    },
    {
      "cleanup_type": "json",
      "function_name": "free_all_json",
      "args": []
    }
  ],
  "tests": [
    {
      "name": "accept_all_new_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "accept_all_new_connections",
          "args": [],
          "store_result": "connections_accepted"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connections_accepted"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "accept_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "accept_new_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "connection_accepted"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "connection_accepted"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "broadcast_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection1"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection1"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection2"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection2"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection2"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "broadcast_message_to_all",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection1"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection2"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection2"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message_to_all",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection2"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "broadcast_message_to_server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "broadcast_message_to_server_named",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "string",
              "value": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "check_network_activity",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_new_connections",
              "args": []
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "clear_messages_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_name",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "clear_messages_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "clear_messages_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "clear_messages_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_all_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_connections",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_all_servers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server_1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server_2"
            },
            {
              "value_type": "unsigned_short",
              "value": 5001
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server_1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server_2"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_all_servers",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server_1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server_2"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": []
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_message"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": []
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "close_server_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "close_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "close_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "close_result"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "connection_count_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "connection_count_named",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "connection_ip",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "connection_ip",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 2130706433
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        }
      ]
    },
    {
      "name": "connection_ip_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "connection_ip_from_name",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 2130706433
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        }
      ]
    },
    {
      "name": "connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "connection_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "connection_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "connection_port",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_port"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 5000
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_port"
            }
          }
        }
      ]
    },
    {
      "name": "connection_port_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "connection_port_from_name",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ],
          "store_result": "test_port"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 5000
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_port"
            }
          }
        }
      ]
    },
    {
      "name": "create_server_with_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "create_server_with_port_and_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port_and_protocol",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "tcp"
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "dec_to_hex",
      "steps": [
        {
          "step_type": "function",
          "function_name": "dec_to_hex",
          "args": [
            {
              "value_type": "unsigned_int",
              "value": 2130706433
            }
          ],
          "store_result": "test_hex_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "0x7F000001"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_hex_result"
            }
          }
        }
      ]
    },
    {
      "name": "fetch_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "fetch_new_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "new_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "new_connection"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_messages",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": []
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages",
              "args": []
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_messages_on_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_messages_on_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_name",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_messages_on_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_messages_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_new_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_new_connections",
              "args": []
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "hex_str_to_ipv4",
      "steps": [
        {
          "step_type": "function",
          "function_name": "hex_str_to_ipv4",
          "args": [
            {
              "value_type": "string",
              "value": "0x7F000001"
            }
          ],
          "store_result": "test_ipv4"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "hex_str_to_ipv4",
          "args": [
            {
              "value_type": "string",
              "value": "7F000001"
            }
          ],
          "store_result": "test_ipv4_no_prefix"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4_no_prefix"
            }
          }
        }
      ]
    },
    {
      "name": "hex_to_dec_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "hex_to_dec_string",
          "args": [
            {
              "value_type": "string",
              "value": "7F"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "hex_to_dec_string",
          "args": [
            {
              "value_type": "string",
              "value": "0x7F"
            }
          ],
          "store_result": "test_result_with_prefix"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result_with_prefix"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_dec",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_dec",
          "args": [
            {
              "value_type": "string",
              "value": "127.0.0.1"
            }
          ],
          "store_result": "test_result1"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 2130706433
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result1"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "ipv4_to_dec",
          "args": [
            {
              "value_type": "string",
              "value": "192.168.1.1"
            }
          ],
          "store_result": "test_result2"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 3232235777
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result2"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_hex",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_hex",
          "args": [
            {
              "value_type": "string",
              "value": "127.0.0.1"
            }
          ],
          "store_result": "test_ipv4_hex"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "0x7F000001"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ipv4_hex"
            }
          }
        }
      ]
    },
    {
      "name": "ipv4_to_str",
      "steps": [
        {
          "step_type": "function",
          "function_name": "ipv4_to_str",
          "args": [
            {
              "value_type": "unsigned_int",
              "value": 2130706433
            }
          ],
          "store_result": "test_ip_str"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip_str"
            }
          }
        }
      ]
    },
    {
      "name": "is_connection_open",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "is_connection_open_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "last_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "last_connection_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            }
          ],
          "store_result": "last_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "last_connection"
            }
          }
        }
      ]
    },
    {
      "name": "last_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "last_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "last_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "last_connection"
            }
          }
        }
      ]
    },
    {
      "name": "message_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "message_count_on_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_count_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "message_count_on_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "function",
              "function_name": "message_count_on_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": {
              "value_type": "int",
              "value": 0
            }
          }
        }
      ]
    },
    {
      "name": "message_count_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_count_on_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "message_data",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "message_data_bytes",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "function",
          "function_name": "message_data_bytes",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ],
          "store_result": "test_message_bytes"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_empty",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_message_bytes"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "message_host",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_host",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "message_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 5000
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_port",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "message_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port_and_protocol",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "udp"
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection_with_protocol",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "udp"
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "udp"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_protocol",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "my_ip",
      "steps": [
        {
          "step_type": "function",
          "function_name": "my_ip",
          "args": [],
          "store_result": "test_ip"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_ip"
            }
          }
        }
      ]
    },
    {
      "name": "name_for_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "name_for_connection",
          "args": [
            {
              "value_type": "string",
              "value": "localhost"
            },
            {
              "value_type": "unsigned_int",
              "value": 8080
            }
          ],
          "store_result": "test_connection_name"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "localhost:8080"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_connection_name"
            }
          }
        }
      ]
    },
    {
      "name": "new_connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "open_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "open_connection_with_protocol",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port_and_protocol",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "tcp"
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection_with_protocol",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            },
            {
              "value_type": "enum",
              "enum_type": "connection_type",
              "value": "tcp"
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "read_message",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message",
          "args": [],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_name",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "read_message_from_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_message"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "message_data",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_message"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_message",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_message"
            }
          ]
        }
      ]
    },
    {
      "name": "read_message_data_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "read_message_data_from_name",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "read_message_data_from_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "read_message_data_from_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "read_message_data_from_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "Test Message"
            },
            "value2": {
              "value_type": "function",
              "function_name": "read_message_data_from_server",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "reconnect",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "reconnect",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "reconnect_from_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "close_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_connection"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "reconnect_from_name",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_connection_open_from_name",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "release_all_connections",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection1"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection2"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection2"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "release_all_connections",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_connection",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_connection2"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_server",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "reset_new_connection_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": {
              "value_type": "int",
              "value": 1
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "reset_new_connection_count",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "new_connection_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "retrieve_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "retrieve_connection_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "int",
              "value": 0
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            }
          }
        }
      ]
    },
    {
      "name": "retrieve_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "retrieve_connection",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            {
              "value_type": "int",
              "value": 0
            }
          ],
          "store_result": "retrieved_connection"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_connection"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "retrieved_connection"
            }
          }
        }
      ]
    },
    {
      "name": "send_message_to_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_connection",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "variable",
              "variable_name": "test_connection"
            }
          ],
          "store_result": "send_result"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "send_result"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "send_message_to_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_connection"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "send_message_to_name",
          "args": [
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "string",
              "value": "test_connection"
            }
          ],
          "store_result": "send_result"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "send_result"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "server_has_new_connection_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "server_has_new_connection_named",
              "args": [
                {
                  "value_type": "string",
                  "value": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "server_has_new_connection",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_connection",
          "args": [
            {
              "value_type": "string",
              "value": "test_connection"
            },
            {
              "value_type": "string",
              "value": "127.0.0.1"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "connection",
          "store_result": "cleanup_connection"
        },
        {
          "step_type": "function",
          "function_name": "check_network_activity",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "server_has_new_connection",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "server_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 5000
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "server_named",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            }
          ],
          "store_result": "retrieved_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "retrieved_server"
            }
          }
        }
      ]
    },
    {
      "name": "set_udp_packet_size",
      "steps": [
        {
          "step_type": "function",
          "function_name": "set_udp_packet_size",
          "args": [
            {
              "value_type": "unsigned_int",
              "value": 1024
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "unsigned_int",
              "value": 1024
            },
            "value2": {
              "value_type": "function",
              "function_name": "udp_packet_size",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "udp_packet_size",
      "steps": [
        {
          "step_type": "function",
          "function_name": "udp_packet_size",
          "args": [],
          "store_result": "test_packet_size"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "greater_than",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_packet_size"
            },
            "value2": {
              "value_type": "int",
              "value": 0
            }
          }
        }
      ]
    },
    {
      "name": "download_bitmap",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "download_bitmap",
          "args": [
            {
              "value_type": "string",
              "value": "test_image"
            },
            {
              "value_type": "string",
              "value": "http://localhost:8080/test/resources/images/frog.png"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        }
      ]
    },
    {
      "name": "download_font",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "download_font",
          "args": [
            {
              "value_type": "string",
              "value": "test_font"
            },
            {
              "value_type": "string",
              "value": "http://localhost:8080/test/resources/fonts/hara.ttf"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_font"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_font"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "download_music",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "download_music",
          "args": [
            {
              "value_type": "string",
              "value": "test_music"
            },
            {
              "value_type": "string",
              "value": "http://localhost:8080/test/resources/music/280.mp3"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_music"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_music"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "download_sound_effect",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "download_sound_effect",
          "args": [
            {
              "value_type": "string",
              "value": "test_sound"
            },
            {
              "value_type": "string",
              "value": "http://localhost:8080/test/resources/sounds/breakdance.wav"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_sound_effect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sound_effect"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "free_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          }
        }
      ]
    },
    {
      "name": "http_get",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "response_text"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_empty",
            "value1": {
              "value_type": "variable",
              "variable_name": "response_text"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_post_with_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "variable",
          "variable_name": "headers",
          "value_type": "list",
          "target_type": "string",
          "value": [
            {
              "value_type": "string",
              "value": "Content-Type: application/json"
            },
            {
              "value_type": "string",
              "value": "Accept: application/json"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "http_post_with_headers",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            },
            {
              "value_type": "string",
              "value": "Test Body"
            },
            {
              "value_type": "variable",
              "variable_name": "headers"
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "response_text"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "contains",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "response_text"
                },
                {
                  "value_type": "string",
                  "value": "Test Body"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_post",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "http_post",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            },
            {
              "value_type": "string",
              "value": "Test Body"
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "response_text"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "contains",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "response_text"
                },
                {
                  "value_type": "string",
                  "value": "Test Body"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "http_response_to_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "http_response_to_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ],
          "store_result": "response_text"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_empty",
            "value1": {
              "value_type": "variable",
              "variable_name": "response_text"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "save_response_to_file",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_server_with_port",
          "args": [
            {
              "value_type": "string",
              "value": "test_server"
            },
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "server",
          "store_result": "cleanup_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "variable",
          "value_type": "string",
          "variable_name": "test_file",
          "value": "test_output.txt"
        },
        {
          "step_type": "function",
          "function_name": "save_response_to_file",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            },
            {
              "value_type": "variable",
              "variable_name": "test_file"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        }
      ]
    },
    {
      "name": "has_incoming_requests",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_delete_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_delete_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_get_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_get_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_options_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_options_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_post_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_post",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test_path"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            },
            {
              "value_type": "string",
              "value": "test=123"
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_post_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test_path"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_put_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_put_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "is_trace_request_for",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "is_trace_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "/test"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "next_web_request",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_body",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_post",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            },
            {
              "value_type": "string",
              "value": "test body"
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "test body"
            },
            "value2": {
              "value_type": "function",
              "function_name": "request_body",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_has_query_parameter",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test?param1=value1"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "request_has_query_parameter",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "param1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "request_has_query_parameter",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "string",
                  "value": "nonexistent_param"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_empty",
            "value1": {
              "value_type": "function",
              "function_name": "request_headers",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_method",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "http_method",
              "value": "http_get_method"
            },
            "value2": {
              "value_type": "function",
              "function_name": "request_method",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_query_parameter",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test?param1=value1"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_query_parameter",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "param1"
            },
            {
              "value_type": "string",
              "value": "default_value"
            }
          ],
          "store_result": "test_result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "value1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_result"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_query_string",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test?param1=value1"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_query_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_query_string"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "param1=value1"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_query_string"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_uri",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_uri",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_uri"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "string",
              "value": "/test"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_uri"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "request_uri_stubs",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test/path"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "request_uri_stubs",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ],
          "store_result": "test_stubs"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "list",
              "target_type": "string",
              "value": [
                {
                  "value_type": "string",
                  "value": "test"
                },
                {
                  "value_type": "string",
                  "value": "path"
                }
              ]
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_stubs"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_css_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test.css"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_css_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "test.css"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "string",
                  "value": "/test.css"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test.txt"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "test.txt"
            },
            {
              "value_type": "string",
              "value": "text/plain"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "string",
                  "value": "/test.txt"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_html_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test.html"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_html_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "test.html"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "string",
                  "value": "/test.html"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_javascript_file_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test.js"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_javascript_file_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "test.js"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "is_request_for",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_request"
                },
                {
                  "value_type": "enum",
                  "enum_type": "http_method",
                  "value": "http_get_method"
                },
                {
                  "value_type": "string",
                  "value": "/test.js"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_empty",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_empty",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "string",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_json_with_status",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_json_with_status",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_with_status",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "string",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status_and_content_type",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_with_status_and_content_type",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "string",
              "value": "text/plain"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_with_status_and_content_type_and_headers",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "send_response_with_status_and_content_type_and_headers",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "enum",
              "enum_type": "http_status_code",
              "value": "http_status_ok"
            },
            {
              "value_type": "string",
              "value": "Test Message"
            },
            {
              "value_type": "string",
              "value": "text/plain"
            },
            {
              "value_type": "list",
              "target_type": "string",
              "value": [
                {
                  "value_type": "string",
                  "value": "Header1: Value1"
                },
                {
                  "value_type": "string",
                  "value": "Header2: Value2"
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "send_response_json",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "function",
          "function_name": "next_web_request",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ],
          "store_result": "test_request"
        },
        {
          "step_type": "function",
          "function_name": "create_json",
          "args": [],
          "store_result": "test_json"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "json",
          "store_result": "cleanup_json"
        },
        {
          "step_type": "function",
          "function_name": "json_set_string",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_json"
            },
            {
              "value_type": "string",
              "value": "message"
            },
            {
              "value_type": "string",
              "value": "Test Message"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "send_response_json",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_request"
            },
            {
              "value_type": "variable",
              "variable_name": "test_json"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_json",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_json"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "split_uri_stubs",
      "steps": [
        {
          "step_type": "function",
          "function_name": "split_uri_stubs",
          "args": [
            {
              "value_type": "string",
              "value": "/names/0"
            }
          ],
          "store_result": "test_stubs"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "list",
              "value": [
                {
                  "value_type": "string",
                  "value": "names"
                },
                {
                  "value_type": "string",
                  "value": "0"
                }
              ]
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_stubs"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "split_uri_stubs",
          "args": [
            {
              "value_type": "string",
              "value": "/"
            }
          ],
          "store_result": "test_stubs_empty"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "empty",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_stubs_empty"
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "start_web_server_with_default_port",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server_with_default_port",
          "args": [],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "start_web_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    },
    {
      "name": "stop_web_server",
      "steps": [
        {
          "step_type": "function",
          "function_name": "start_web_server",
          "args": [
            {
              "value_type": "unsigned_short",
              "value": 8080
            }
          ],
          "store_result": "test_server"
        },
        {
          "step_type": "function",
          "function_name": "http_get",
          "args": [
            {
              "value_type": "string",
              "value": "http://localhost:8080/test"
            },
            {
              "value_type": "unsigned_short",
              "value": 80
            }
          ],
          "store_result": "test_response"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_incoming_requests",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_server"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_response",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_response"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "stop_web_server",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_server"
            }
          ]
        }
      ]
    }
  ]
}