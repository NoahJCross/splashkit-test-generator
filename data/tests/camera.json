{
  "group": "camera",
  "cleanup": [
    {
      "cleanup_type": "window",
      "function_name": "close_all_windows",
      "args": []
    },
    {
      "cleanup_type": "sprite",
      "function_name": "free_all_sprites",
      "args": []
    }
  ],
  "tests": [
    {
      "name": "camera_position",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "camera_position",
          "args": [],
          "store_result": "test_camera_position"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 0.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_camera_position",
              "variable_field": "x"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 0.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_camera_position",
              "variable_field": "y"
            }
          }
        }
      ]
    },
    {
      "name": "camera_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_x",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "camera_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 200.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 200.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_y",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "center_camera_on_vector",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "string",
              "value": "test_bitmap"
            },
            {
              "value_type": "int",
              "value": 100
            },
            {
              "value_type": "int",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "bitmap",
          "store_result": "cleanup_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "sprite",
          "store_result": "cleanup_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "center_camera_on_vector",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_from_angle",
              "args": [
                {
                  "value_type": "double",
                  "value": 50.0
                },
                {
                  "value_type": "double",
                  "value": 50.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": -267.8606182336807
                },
                {
                  "value_type": "double",
                  "value": -161.69777810573578
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_position",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "center_camera_on",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "string",
              "value": "test_bitmap"
            },
            {
              "value_type": "int",
              "value": 100
            },
            {
              "value_type": "int",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "bitmap",
          "store_result": "cleanup_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "sprite",
          "store_result": "cleanup_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "center_camera_on",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": -300.0
                },
                {
                  "value_type": "double",
                  "value": -200.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_position",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "move_camera_by_vector",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "vector_from_angle",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ],
          "store_result": "test_vector"
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_camera_by_vector",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_vector"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_x",
              "args": []
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_y",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "move_camera_by",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_camera_by",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_x",
              "args": []
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_y",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "move_camera_to_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to_point",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_position",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "move_camera_to",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_x",
              "args": []
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_y",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "point_in_window",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "double",
              "value": 400.0
            },
            {
              "value_type": "double",
              "value": 300.0
            }
          ],
          "store_result": "test_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "point_in_window",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "variable",
                  "variable_name": "test_point"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "double",
              "value": 1000.0
            },
            {
              "value_type": "double",
              "value": 1000.0
            }
          ],
          "store_result": "test_point_outside"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "point_in_window",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "variable",
                  "variable_name": "test_point_outside"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "point_on_screen",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "double",
              "value": 400.0
            },
            {
              "value_type": "double",
              "value": 300.0
            }
          ],
          "store_result": "test_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "point_on_screen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_point"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "double",
              "value": 1000.0
            },
            {
              "value_type": "double",
              "value": 1000.0
            }
          ],
          "store_result": "test_point_outside"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "point_on_screen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_point_outside"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "rect_in_window",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_x",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "set_camera_y",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "rectangle_from",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ],
          "store_result": "test_rectangle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "rect_in_window",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "variable",
                  "variable_name": "test_rectangle"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "rectangle_from",
          "args": [
            {
              "value_type": "double",
              "value": 1000.0
            },
            {
              "value_type": "double",
              "value": 1000.0
            },
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ],
          "store_result": "test_rectangle_outside"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "rect_in_window",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "variable",
                  "variable_name": "test_rectangle_outside"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "rect_on_screen",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "rectangle_from",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 0.0
            },
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ],
          "store_result": "test_rectangle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "rect_on_screen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_rectangle"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to",
          "args": [
            {
              "value_type": "double",
              "value": 1000.0
            },
            {
              "value_type": "double",
              "value": 1000.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "rect_on_screen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_rectangle"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "screen_center",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_x",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "set_camera_y",
          "args": [
            {
              "value_type": "double",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "screen_center",
          "args": [],
          "store_result": "test_center"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 400.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_center",
              "variable_field": "x"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 300.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_center",
              "variable_field": "y"
            }
          }
        }
      ]
    },
    {
      "name": "screen_rectangle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "screen_rectangle",
          "args": [],
          "store_result": "test_rectangle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 800.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_rectangle",
              "variable_field": "width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 600.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_rectangle",
              "variable_field": "height"
            }
          }
        }
      ]
    },
    {
      "name": "set_camera_position",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_position",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "set_camera_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_x",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_x",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "set_camera_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_y",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "camera_y",
              "args": []
            }
          }
        }
      ]
    },
    {
      "name": "to_screen_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "to_screen_point",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 150.0
                },
                {
                  "value_type": "double",
                  "value": 150.0
                }
              ]
            }
          ],
          "store_result": "test_screen_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 50.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_screen_point",
              "variable_field": "x"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 50.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_screen_point",
              "variable_field": "y"
            }
          }
        }
      ]
    },
    {
      "name": "to_screen_rectangle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "rectangle_from",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 200.0
            },
            {
              "value_type": "double",
              "value": 200.0
            }
          ],
          "store_result": "test_rectangle"
        },
        {
          "step_type": "function",
          "function_name": "to_screen_rectangle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_rectangle"
            }
          ],
          "store_result": "screen_rectangle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "cast_to": "float",
              "function_name": "to_screen_x",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "rectangle_left",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "screen_rectangle"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "cast_to": "float",
              "function_name": "to_screen_y",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "rectangle_top",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "screen_rectangle"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "to_screen_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_x",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },

        {
          "step_type": "function",
          "function_name": "to_screen_x",
          "args": [
            {
              "value_type": "double",
              "value": 150.0
            }
          ],
          "store_result": "test_screen_x"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 50.0
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_screen_x"
            }
          }
        }
      ]
    },
    {
      "name": "to_screen_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_y",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "to_screen_y",
          "args": [
            {
              "value_type": "double",
              "value": 150.0
            }
          ],
          "store_result": "test_screen_y"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 50.0
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_screen_y"
            }
          }
        }
      ]
    },
    {
      "name": "to_world",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "to_world",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 400.0
                },
                {
                  "value_type": "double",
                  "value": 300.0
                }
              ]
            }
          ],
          "store_result": "test_world_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 500.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_world_point",
              "variable_field": "x"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 400.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_world_point",
              "variable_field": "y"
            }
          }
        }
      ]
    },
    {
      "name": "to_world_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "to_world_x",
          "args": [
            {
              "value_type": "double",
              "value": 400.0
            }
          ],
          "store_result": "test_world_x"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 500.0
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_world_x"
            }
          }
        }
      ]
    },
    {
      "name": "to_world_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ]
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "set_camera_position",
          "args": [
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "double",
                  "value": 100.0
                },
                {
                  "value_type": "double",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "to_world_y",
          "args": [
            {
              "value_type": "double",
              "value": 300.0
            }
          ],
          "store_result": "test_world_y"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "int",
              "value": 400.0
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_world_y"
            }
          }
        }
      ]
    },
    {
      "name": "vector_world_to_screen",
      "steps": [
        {
          "step_type": "function",
          "function_name": "vector_world_to_screen",
          "args": [],
          "store_result": "test_vector1"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_from_angle",
              "args": [
                {
                  "value_type": "double",
                  "value": 0.0
                },
                {
                  "value_type": "double",
                  "value": 0.0
                }
              ]
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "test_vector1"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "move_camera_to",
          "args": [
            {
              "value_type": "double",
              "value": 100.0
            },
            {
              "value_type": "double",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "vector_world_to_screen",
          "args": [],
          "store_result": "test_vector2"
        },
        {
          "step_type": "function",
          "function_name": "vector_to",
          "args": [
            {
              "value_type": "double",
              "value": -100.0
            },
            {
              "value_type": "double",
              "value": -100.0
            }
          ],
          "store_result": "test_vector_to"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "test_vector_to",
              "variable_field": "x"
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_vector2",
              "variable_field": "x"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "test_vector_to",
              "variable_field": "y"
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_vector2",
              "variable_field": "y"
            }
          }
        }
      ]
    },
    {
      "name": "window_area",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "string",
              "value": "Test Window"
            },
            {
              "value_type": "int",
              "value": 800
            },
            {
              "value_type": "int",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "cleanup",
          "cleanup_type": "window",
          "store_result": "cleanup_window"
        },
        {
          "step_type": "function",
          "function_name": "window_area",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ],
          "store_result": "test_area"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 800.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_area",
              "variable_field": "width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "double",
              "value": 600.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "test_area",
              "variable_field": "height"
            }
          }
        }
      ]
    }
  ]
}
