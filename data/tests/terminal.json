{
  "group": "terminal",
  "tests": [
    {
      "name": "read_char",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "reader",
          "variable_name": "string_reader"
        },
        {
          "step_type": "function",
          "function_name": "read_char",
          "args": [],
          "store_result": "result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "A"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "result"
            }
          }
        }
      ]
    },
    {
      "name": "read_line",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "reader",
          "variable_name": "string_reader"
        },
        {
          "step_type": "function",
          "function_name": "read_line",
          "args": [],
          "store_result": "result"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test Input"
            },
            "value2": {
              "value_type": "primitive",
              "value": "Test Input"
            }
          }
        }
      ]
    },
    {
      "name": "terminal_has_input",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "reader",
          "variable_name": "string_reader"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "terminal_has_input",
              "args": []
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "write",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test String"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "Test String"
            },
            "value2": {
              "value_type": "primitive",
              "value": "Test String"
            }
          }
        }
      ]
    },
    {
      "name": "write_int",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_int",
          "args": [
            {
              "value_type": "primitive",
              "value": 42
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "42"
            },
            "value2": {
              "value_type": "primitive",
              "value": "42"
            }
          }
        }
      ]
    },
    {
      "name": "write_double",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_double",
          "args": [
            {
              "value_type": "primitive",
              "value": 3.14
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "3.14"
            },
            "value2": {
              "value_type": "primitive",
              "value": "3.14"
            }
          }
        }
      ]
    },
    {
      "name": "write_char",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_char",
          "args": [
            {
              "value_type": "primitive",
              "value": "A"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "A"
            },
            "value2": {
              "value_type": "primitive",
              "value": "A"
            }
          }
        }
      ]
    },
    {
      "name": "write_line",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_line",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Line"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "concat",
              "value": ["Test Line", "new_line"]
            },
            "value2": {
              "value_type": "string_with_newline",
              "value": "Test Line"
            }
          }
        }
      ]
    },
    {
      "name": "write_line_empty",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_line_empty",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "environment",
              "value": "new_line"
            },
            "value2": {
              "value_type": "io_step",
              "variable_name": "string_writer",
              "variable_field": "to_string"
            }
          }
        }
      ]
    },
    {
      "name": "write_line_int",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_line_int",
          "args": [
            {
              "value_type": "primitive",
              "value": 42
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "concat",
              "value": ["42", "new_line"]
            },
            "value2": {
              "value_type": "string_with_newline",
              "value": "42"
            }
          }
        }
      ]
    },
    {
      "name": "write_line_double",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_line_double",
          "args": [
            {
              "value_type": "primitive",
              "value": 3.14
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "concat",
              "value": ["3.14", "new_line"]
            },
            "value2": {
              "value_type": "string_with_newline",
              "value": "3.14"
            }
          }
        }
      ]
    },
    {
      "name": "write_line_char",
      "steps": [
        {
          "step_type": "io_setup",
          "io_type": "writer",
          "variable_name": "string_writer"
        },
        {
          "step_type": "function",
          "function_name": "write_line_char",
          "args": [
            {
              "value_type": "primitive",
              "value": "A"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "concat",
              "value": ["A", "new_line"]
            },
            "value2": {
              "value_type": "string_with_newline",
              "value": "A"
            }
          }
        }
      ]
    }
  ]
}
