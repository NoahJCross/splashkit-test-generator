{
  "group": "sprites",
  "constructor": [
    {
      "step_type": "function",
      "function_name": "set_resources_path",
      "args": [
        {
          "value_type": "primitive",
          "value": "set this value before running tests, use an absolute path"
        }
      ]
    }
  ],
  "tests": [
    {
      "name": "call_for_all_sprites_with_value",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite1"
            },
            {
              "value_type": "float",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite2"
            },
            {
              "value_type": "float",
              "value": 200
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "call_for_all_sprites_with_value",
          "args": [
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "SpriteFloatFunction"
            },
            {
              "value_type": "float",
              "value": 300
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "call_for_all_sprites",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite1"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite2"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 200
                },
                {
                  "value_type": "primitive",
                  "value": 200
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "call_for_all_sprites",
          "args": [
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "SpriteFunction"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "center_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "center_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "center_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "center_point",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "center_point",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "function",
                  "function_name": "sprite_name",
                  "args": [
                    {
                      "value_type": "variable",
                      "variable_name": "test_sprite"
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_with_animation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_with_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "function",
                  "function_name": "sprite_name",
                  "args": [
                    {
                      "value_type": "variable",
                      "variable_name": "test_sprite"
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_with_bitmap_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_with_bitmap_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "function",
                  "function_name": "sprite_name",
                  "args": [
                    {
                      "value_type": "variable",
                      "variable_name": "test_sprite"
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_named_with_animation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_named_with_animation",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_with_bitmap_and_animation_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_with_bitmap_and_animation_named",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_null",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "function",
                  "function_name": "sprite_name",
                  "args": [
                    {
                      "value_type": "variable",
                      "variable_name": "test_sprite"
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "create_sprite_pack",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "current_sprite_pack",
      "steps": [
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "default"
            },
            "value2": {
              "value_type": "function",
              "function_name": "current_sprite_pack",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "select_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_pack"
            },
            "value2": {
              "value_type": "function",
              "function_name": "current_sprite_pack",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "select_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "default"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "default"
            },
            "value2": {
              "value_type": "function",
              "function_name": "current_sprite_pack",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        }
      ]
    },
    {
      "name": "draw_all_sprites",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite1"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite2"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 200
                },
                {
                  "value_type": "primitive",
                  "value": 200
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "clear_screen",
          "args": [
            {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "draw_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "refresh_screen",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            },
            "value2": {
              "value_type": "function",
              "function_name": "get_pixel",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            },
            "value2": {
              "value_type": "function",
              "function_name": "get_pixel",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "primitive",
                  "value": 200
                },
                {
                  "value_type": "primitive",
                  "value": 200
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "draw_sprite_offset_x_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "clear_screen",
          "args": [
            {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "draw_sprite_offset_x_y",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 50.0
            },
            {
              "value_type": "primitive",
              "value": 50.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "refresh_screen",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            },
            "value2": {
              "value_type": "function",
              "function_name": "get_pixel",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "primitive",
                  "value": 450
                },
                {
                  "value_type": "primitive",
                  "value": 350
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "draw_sprite_offset_by",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "clear_screen",
          "args": [
            {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "draw_sprite_offset_by",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_from_angle",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 50
                },
                {
                  "value_type": "primitive",
                  "value": 50
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "refresh_screen",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            },
            "value2": {
              "value_type": "function",
              "function_name": "get_pixel",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "primitive",
                  "value": 450
                },
                {
                  "value_type": "primitive",
                  "value": 350
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "draw_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "clear_screen",
          "args": [
            {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "draw_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "refresh_screen",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "color_black",
              "args": []
            },
            "value2": {
              "value_type": "function",
              "function_name": "get_pixel",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_window"
                },
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "free_all_sprites",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite1"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite2"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite2"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite1"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite2"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "free_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "free_sprite_pack",
      "steps": [
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "default"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "default"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "has_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "has_sprite_pack",
      "steps": [
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "has_sprite_pack",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_pack"
                }
              ]
            },
            "value2": null
          }
        }
      ]
    },
    {
      "name": "move_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "primitive",
              "value": 100.0
            },
            {
              "value_type": "primitive",
              "value": 100.0
            }
          ],
          "store_result": "start_position"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "start_position"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 110.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 110.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "move_sprite_by_vector",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_sprite_by_vector",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 50
                },
                {
                  "value_type": "primitive",
                  "value": 50
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "move_sprite_by_vector_percent",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100.0
                },
                {
                  "value_type": "primitive",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_sprite_by_vector_percent",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 50.0
                },
                {
                  "value_type": "primitive",
                  "value": 50.0
                }
              ]
            },
            {
              "value_type": "float",
              "value": 0.5
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 125.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 125.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "move_sprite_percent",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100.0
                },
                {
                  "value_type": "primitive",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "move_sprite_percent",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 0.5
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 105.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 105.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "move_sprite_to",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "move_sprite_to",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 400.0
            },
            {
              "value_type": "primitive",
              "value": 300.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 400.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "select_sprite_pack",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "default"
            },
            "value2": {
              "value_type": "function",
              "function_name": "current_sprite_pack",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "select_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_pack"
            },
            "value2": {
              "value_type": "function",
              "function_name": "current_sprite_pack",
              "args": []
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_sprite_pack",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_pack"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_add_layer",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "new_layer"
            },
            {
              "value_type": "primitive",
              "value": 50
            },
            {
              "value_type": "primitive",
              "value": 50
            }
          ],
          "store_result": "new_layer_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "new_layer_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "new_layer"
            }
          ],
          "store_result": "layer_index"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "layer_index"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "new_layer_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_add_to_velocity",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_to_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "velocity"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "velocity",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "velocity",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_add_value",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "health"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_add_value_with_default",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value_with_default",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "health"
            },
            {
              "value_type": "float",
              "value": 100.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_anchor_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_anchor_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "anchor_point"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "anchor_point",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "anchor_point",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_anchor_position",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_anchor_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "anchor_position"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "anchor_position",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "anchor_position",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_animation_has_ended",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_animation_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "walkfront"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_animation_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_at",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_red",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 400
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_y",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 300
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "draw_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_at",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "function",
                  "function_name": "point_at",
                  "args": [
                    {
                      "value_type": "primitive",
                      "value": 400
                    },
                    {
                      "value_type": "primitive",
                      "value": 300
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_at",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "function",
                  "function_name": "point_at",
                  "args": [
                    {
                      "value_type": "primitive",
                      "value": 600
                    },
                    {
                      "value_type": "primitive",
                      "value": 500
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_bring_layer_to_front",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_index"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_visible_index_of_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_index"
            }
          ],
          "store_result": "visible_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_bring_layer_to_front",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "visible_index"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_bring_layer_forward",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_index"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_visible_index_of_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_index"
            }
          ],
          "store_result": "visible_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_bring_layer_forward",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "visible_index"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_index"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "call_on_sprite_event",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "call_on_sprite_event",
          "args": [
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "event_called"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "call_on_sprite_event",
      "steps": [
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "variable",
          "value_type": "bool",
          "variable_name": "handler_called",
          "initial_value": false
        },
        {
          "step_type": "function",
          "function_name": "call_on_sprite_event",
          "args": [
            {
              "value_type": "event_handler",
              "handler_type": "sprite_event_handler",
              "updates_variable": "handler_called",
              "new_value": true
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable",
              "variable_name": "handler_called"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_call_on_event",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_call_on_event",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "event_called"
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_circle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_circle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "circle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Radius"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_collision_bitmap",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_collision_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "collision_bitmap"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "collision_bitmap"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_collision_circle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_collision_circle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "circle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Radius"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_collision_kind",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "pixel_collisions"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_kind",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_collision_kind",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "aabb_collisions"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "aabb_collisions"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_kind",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_collision_rectangle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_collision_rectangle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "rect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Height"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_current_cell",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test_animation"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_current_cell",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_animation_script",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_current_cell_rectangle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_current_cell_rectangle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "rect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Height"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_dx",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dx",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_dx",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 5.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dx",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_dy",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dy",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_dy",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 5.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dy",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_has_value",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "health"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "health"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "mana"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_heading",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 90.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_heading",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 1.0
                },
                {
                  "value_type": "primitive",
                  "value": 1.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 45.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_heading",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_height",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_height",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_scale",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 2.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_height",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_hide_layer_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_hide_layer_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_hide_layer",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_hide_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_at_index",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_at_index",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_circle_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_layer_circle_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "base_layer"
            }
          ],
          "store_result": "circle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Radius"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_circle_at_index",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_layer_circle_at_index",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ],
          "store_result": "circle"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Center.Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "circle",
              "variable_field": "Radius"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_height_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_height_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_height_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_height",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_height",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_height",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_index",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_index",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "layer_idx"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_index",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "layer2"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_offset_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_layer_offset_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "base_layer"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_offset",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_layer_offset_at_index",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_rectangle_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_layer_rectangle_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "base_layer"
            }
          ],
          "store_result": "rect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Height"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_rectangle_at_index",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_layer_rectangle_at_index",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ],
          "store_result": "rect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Height"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_width_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_width_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_width_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_layer_width",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_width",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_width",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_location_matrix",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_rotation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 45
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_location_matrix",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "matrix"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150.0
            },
            "value2": {
              "value_type": "variable_matrix_access",
              "variable_name": "matrix",
              "field": "elements",
              "row": 0,
              "col": 2
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "variable_matrix_access",
              "variable_name": "matrix",
              "field": "elements",
              "row": 2,
              "col": 2
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_mass",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_mass",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_mass",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 10.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_mass",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_move_from_anchor_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_move_from_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_move_from_anchor_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_move_from_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_move_to_taking_seconds",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_move_to_taking_seconds",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 200
                },
                {
                  "value_type": "primitive",
                  "value": 200
                }
              ]
            },
            {
              "value_type": "float",
              "value": 1.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "position"
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_name",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_named",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "null",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_named",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "non_existent_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_offscreen",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_offscreen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": -200
                },
                {
                  "value_type": "primitive",
                  "value": -200
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_offscreen",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_on_screen_at_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_on_screen_at_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "function",
                  "function_name": "point_at",
                  "args": [
                    {
                      "value_type": "primitive",
                      "value": 400
                    },
                    {
                      "value_type": "primitive",
                      "value": 300
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_on_screen_at_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "function",
                  "function_name": "point_at",
                  "args": [
                    {
                      "value_type": "primitive",
                      "value": 0
                    },
                    {
                      "value_type": "primitive",
                      "value": 0
                    }
                  ]
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_on_screen_at",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_on_screen_at",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_on_screen_at",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_position",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_position",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 400
                },
                {
                  "value_type": "primitive",
                  "value": 300
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_position",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_replay_animation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_replay_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_replay_animation_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_replay_animation_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_rotation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_rotation",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_rotation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 45.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 45.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_rotation",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_scale",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_scale",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 2.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_screen_rectangle",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "clear_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "function",
              "function_name": "color_white",
              "args": []
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_screen_rectangle",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "rect"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Width"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "rect",
              "variable_field": "Height"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_send_layer_backward",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer1"
            }
          ],
          "store_result": "layer1"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer1"
            }
          ]
        },

        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_visible_index_of_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer2"
            }
          ],
          "store_result": "visible_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_send_layer_backward",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "visible_index"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_send_layer_to_back",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer1"
            }
          ],
          "store_result": "layer1"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer1"
            }
          ]
        },

        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_visible_index_of_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer2"
            }
          ],
          "store_result": "visible_index"
        },
        {
          "step_type": "function",
          "function_name": "sprite_send_layer_to_back",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "visible_index"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_anchor_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 50
                },
                {
                  "value_type": "primitive",
                  "value": 50
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_anchor_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 25
                },
                {
                  "value_type": "primitive",
                  "value": 25
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 25
                },
                {
                  "value_type": "primitive",
                  "value": 25
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_collision_bitmap",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_bitmap",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "new_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 200
            },
            {
              "value_type": "primitive",
              "value": 200
            }
          ],
          "store_result": "new_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_collision_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "new_bitmap"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "new_bitmap"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_bitmap",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "new_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_collision_kind",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "pixel_collisions"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_kind",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_collision_kind",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "aabb_collisions"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "enum",
              "enum_type": "collision_test_kind",
              "value": "aabb_collisions"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_collision_kind",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_dx",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dx",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_dx",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 5.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dx",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_dy",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dy",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_dy",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 5.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_dy",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_heading",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_from_angle",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 90
                },
                {
                  "value_type": "primitive",
                  "value": 1
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 90.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_heading",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_heading",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 45.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 45.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_heading",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_layer_offset_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_layer_offset_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "base_layer"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_layer_offset_at_index",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_layer_offset_at_index",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_layer_offset",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_mass",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_mass",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_mass",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 10.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_mass",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_move_from_anchor_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_move_from_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_move_from_anchor_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_move_from_anchor_point",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_position",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_position",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_position",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_rotation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_rotation",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_rotation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 45.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 45.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_rotation",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_scale",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_scale",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 2.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_speed",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_from_angle",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 1
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_speed",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 5.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_speed",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_value_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_has_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "test_value"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test_value"
            },
            {
              "value_type": "float",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_value_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test_value"
            },
            {
              "value_type": "float",
              "value": 10.5
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.5
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "test_value"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_velocity",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 5.0
                },
                {
                  "value_type": "primitive",
                  "value": 5.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 5.0
                },
                {
                  "value_type": "primitive",
                  "value": 5.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 150.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_set_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_y",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 300.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 300.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_show_layer_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_hide_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "layer_idx"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_show_layer_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_show_layer",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_hide_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "layer_idx"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_show_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_speed",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_speed",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 3.0
                },
                {
                  "value_type": "primitive",
                  "value": 4.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_speed",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_start_animation_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "walkfront"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_animation_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_start_animation_named_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation_named_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": "walkfront"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_animation_name",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_start_animation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_start_animation_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 0
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "stop_calling_on_sprite_event",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "call_on_sprite_event",
          "args": [
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "event_called"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "stop_calling_on_sprite_event",
          "args": [
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "event_called"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_stop_calling_on_event",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_call_on_event",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 200
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 100
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_stop_calling_on_event",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable_field",
              "variable_name": "helper",
              "variable_field": "sprite_event_handler"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_toggle_layer_visible_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_toggle_layer_visible_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_toggle_layer_visible_named",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_toggle_layer_visible",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_toggle_layer_visible",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_value",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 3
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "test_value"
            },
            {
              "value_type": "float",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 10.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "test_value"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_value_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 3
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value_with_default",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "health"
            },
            {
              "value_type": "float",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_value_with_default",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "speed"
            },
            {
              "value_type": "float",
              "value": 0.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 5
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_value_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_velocity",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 5.0
                },
                {
                  "value_type": "primitive",
                  "value": 5.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 5.0
                },
                {
                  "value_type": "primitive",
                  "value": 5.0
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_visible_index_of_layer_named",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "base_layer"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer_named",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": "layer2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_visible_index_of_layer",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ],
          "store_result": "layer_idx"
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "layer_idx"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_index_of_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "variable",
                  "variable_name": "layer_idx"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_visible_layer",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 1
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_visible_layer_count",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_hide_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_count",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_visible_layer_id",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_id",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_add_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_show_layer",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "layer2"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_visible_layer_id",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                },
                {
                  "value_type": "primitive",
                  "value": 1
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_width",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 1
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_scale",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 2.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 2
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_scale",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_x",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_x",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 150.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 150.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "sprite_y",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 0.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_y",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 200.0
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 200.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_all_sprites",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite1"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite2"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite1"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite2"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": -10
                },
                {
                  "value_type": "primitive",
                  "value": -10
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_all_sprites",
          "args": []
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10
                },
                {
                  "value_type": "primitive",
                  "value": 10
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": -10
                },
                {
                  "value_type": "primitive",
                  "value": -10
                }
              ]
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_velocity",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_all_sprites_percent",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite1"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite2"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite1"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100.0
                },
                {
                  "value_type": "primitive",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite2"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": -100.0
                },
                {
                  "value_type": "primitive",
                  "value": -100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_all_sprites_percent",
          "args": [
            {
              "value_type": "float",
              "value": 0.5
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite1"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": -50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite2"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": -50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite2"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_all_sprites",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 10.0
                },
                {
                  "value_type": "primitive",
                  "value": 10.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ],
          "store_result": "initial_pos"
        },
        {
          "step_type": "function",
          "function_name": "update_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "not_equal",
            "value1": {
              "value_type": "variable",
              "variable_name": "initial_pos"
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_position",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "default"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_percent",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100.0
                },
                {
                  "value_type": "primitive",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_percent",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 0.5
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_percent_with_sound",
      "steps": [
        {
          "step_type": "variable",
          "variable_name": "helper",
          "value_type": "class_instance",
          "class_name": "helper",
          "args": []
        },
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_velocity",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "vector_to",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100.0
                },
                {
                  "value_type": "primitive",
                  "value": 100.0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_percent_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 0.5
            },
            {
              "value_type": "primitive",
              "value": true
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_x",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 50.0
            },
            "value2": {
              "value_type": "function",
              "function_name": "sprite_y",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sound_effect_playing",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sound.wav"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_percent_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 0.5
            },
            {
              "value_type": "primitive",
              "value": false
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sound_effect_playing",
              "args": [
                {
                  "value_type": "primitive",
                  "value": "test_sound.wav"
                }
              ]
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_animation",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_animation_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "default"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_animation_percent",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation_percent",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 100
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "update_sprite_animation_percent_with_sound",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "load_animation_script",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_animation"
            },
            {
              "value_type": "primitive",
              "value": "kermit.txt"
            }
          ],
          "store_result": "test_animation"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            },
            {
              "value_type": "variable",
              "variable_name": "test_animation"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_start_animation",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "primitive",
              "value": "walkfront"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "false",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "update_sprite_animation_percent_with_sound",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "float",
              "value": 100
            },
            {
              "value_type": "variable",
              "variable_name": "true"
            }
          ]
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "true",
            "value1": {
              "value_type": "function",
              "function_name": "sprite_animation_has_ended",
              "args": [
                {
                  "value_type": "variable",
                  "variable_name": "test_sprite"
                }
              ]
            },
            "value2": null
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "vector_from_center_sprite_to_point_point",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "test_sprite"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "primitive",
              "value": 50
            },
            {
              "value_type": "primitive",
              "value": 50
            }
          ],
          "store_result": "center_point"
        },
        {
          "step_type": "function",
          "function_name": "point_at",
          "args": [
            {
              "value_type": "primitive",
              "value": 150
            },
            {
              "value_type": "primitive",
              "value": 150
            }
          ],
          "store_result": "target_point"
        },
        {
          "step_type": "function",
          "function_name": "vector_from_center_sprite_to_point_point",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            },
            {
              "value_type": "variable",
              "variable_name": "target_point"
            }
          ],
          "store_result": "vector"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "vector",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "vector",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_sprite"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    },
    {
      "name": "vector_from_to",
      "steps": [
        {
          "step_type": "function",
          "function_name": "open_window",
          "args": [
            {
              "value_type": "primitive",
              "value": "Test Window"
            },
            {
              "value_type": "primitive",
              "value": 800
            },
            {
              "value_type": "primitive",
              "value": 600
            }
          ],
          "store_result": "test_window"
        },
        {
          "step_type": "function",
          "function_name": "create_bitmap",
          "args": [
            {
              "value_type": "primitive",
              "value": "test_bitmap"
            },
            {
              "value_type": "primitive",
              "value": 100
            },
            {
              "value_type": "primitive",
              "value": 100
            }
          ],
          "store_result": "test_bitmap"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "sprite1"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "sprite1"
        },
        {
          "step_type": "function",
          "function_name": "create_sprite",
          "args": [
            {
              "value_type": "primitive",
              "value": "sprite2"
            },
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ],
          "store_result": "sprite2"
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "sprite1"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 0
                },
                {
                  "value_type": "primitive",
                  "value": 0
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "sprite_set_position",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "sprite2"
            },
            {
              "value_type": "function",
              "function_name": "point_at",
              "args": [
                {
                  "value_type": "primitive",
                  "value": 100
                },
                {
                  "value_type": "primitive",
                  "value": 100
                }
              ]
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "vector_from_to",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "sprite1"
            },
            {
              "value_type": "variable",
              "variable_name": "sprite2"
            }
          ],
          "store_result": "vector"
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "vector",
              "variable_field": "X"
            }
          }
        },
        {
          "step_type": "assertion",
          "compare": {
            "compare_type": "equal",
            "value1": {
              "value_type": "primitive",
              "value": 100
            },
            "value2": {
              "value_type": "variable_field",
              "variable_name": "vector",
              "variable_field": "Y"
            }
          }
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "sprite1"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_sprite",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "sprite2"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "free_bitmap",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_bitmap"
            }
          ]
        },
        {
          "step_type": "function",
          "function_name": "close_window",
          "args": [
            {
              "value_type": "variable",
              "variable_name": "test_window"
            }
          ]
        }
      ]
    }
  ]
}
